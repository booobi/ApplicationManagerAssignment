<div *ngIf="action=='none'">
    Please select an application or create a new one!
</div>
<div class="row" *ngIf="application && action=='view'">
    <button type="button" class="btn btn-primary" (click)="switchAction()">Edit Application</button> |
    <button type="button" class="btn btn-danger" (click)="delete()">Delete Application</button>
    <div class="col-xs-10 info-container" style="border: 1px solid black;">
        <p><b>Name:</b> {{application.name}}</p>
        <p><b>Email:</b> {{application.email}}</p>
        <p><b>Age:</b> {{application.age}}</p>
        <p><b>Phone Number:</b> {{application.phoneNumber}}</p>
        <p><b>Preferred way of communication:</b> {{application.preferredWayOfCommunication}}</p>
        <p><b>English Level:</b> {{application.englishLevel}}</p>
        <p><b>Available to start Date:</b> {{application.availableToStartDate}}</p>
        <p *ngIf="application.technicalSkills"><b>Technical Skills:</b> {{application.technicalSkills}}</p>
        <p *ngIf="application.shortPresentation"><b>Short Presentation</b> {{application.shortPresentation}}</p>
        <p><b>Study from home:</b> {{application.studyFromHome ? "Yes" : "no"}}</p>

    </div>
</div>

<div *ngIf="application && action=='edit' || action=='create'">
    <div class="row">
        <div class="col-xs-10">
            <form #f="ngForm" (ngSubmit)="onSubmit(f.value)">
                <button type="submit" class="btn btn-success" [disabled]="f.invalid">Save</button> |
                <button type="button" class="btn btn-danger" (click)="cancel()">Cancel</button>
                <hr>
                <sub class="warning-sub" *ngIf="f.invalid">Please fill all required fields!</sub>
                <div class="row info-container">
                    <div class="col-xs-10">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input placeholder="* This field is required" required [ngModel]="application.name"
                                name="name" type="text" id="name" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <div class="form-group">
                            <label for="name">Email</label>
                            <input placeholder="* This field is required" required [ngModel]="application.email"
                                name="email" type="email" id="email" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-row">
                        <div class="form-group col-xs-3">
                            <label for="name">Age</label>
                            <input placeholder="* required" pattern='^[1-9]\d*$' required [ngModel]="application.age"
                                name="age" type="number" id="age" class="form-control">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="phone">Phone</label>
                            <input placeholder="* This field is required" required [ngModel]="application.phoneNumber"
                                name="phone" type="phone" class="form-control" id="phone">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <b>Preferred way of communication:</b>
                        <div class="form-check">
                            <input [(ngModel)]="application.preferredWayOfCommunication" class="form-check-input"
                                type="radio" name="preferred" value="phone">
                            <label class="form-check-label" for="exampleRadios1">
                                Phone
                            </label>
                        </div>
                        <div class="form-check">
                            <input [(ngModel)]="application.preferredWayOfCommunication" class="form-check-input"
                                type="radio" name="preferred" value="email">
                            <label class="form-check-label" for="exampleRadios2">
                                Email
                            </label>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <div class="form-group">
                            <label for="englishSelect">English Level: (* required)</label>
                            <select required [(ngModel)]="application.englishLevel" name="englishLevel"
                                id="englishSelect" class="form-control">
                                <option value="" disabled selected>Please select your option</option>
                                <option>A1</option>
                                <option>A2</option>
                                <option>B1</option>
                                <option>B2</option>
                                <option>C1</option>
                                <option>C2</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-10">
                        <p><b>Available to start date: (* required)</b></p>
                        <mat-form-field>
                            <input required [(ngModel)]="application.availableToStartDate" matInput
                                [matDatepicker]="picker" name="date" placeholder="Choose a date">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <div class="form-group">
                            <label for="exampleFormControlTextarea1">Technical Skills and Courses:</label>
                            <textarea [ngModel]="application.technicalSkills" name="technicalSkills"
                                class="form-control rounded-0" id="exampleFormControlTextarea1" rows="8"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <div class="form-group">
                            <label for="exampleFormControlTextarea1">Short Personal Presentation:</label>
                            <textarea [ngModel]="application.shortPresentation" name="shortPresentation"
                                class="form-control rounded-0" id="exampleFormControlTextarea1" rows="5"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-10">
                        <div class="form-check">
                            <input ngModel [(ngModel)]="application.studyFromHome" name="studyFromHome"
                                class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">
                                Study from home
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>